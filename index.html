<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AR Model Viewer</title>

<script type="module"
  src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
</script>

<style>
body { margin:0; font-family:sans-serif; text-align:center; }
#selectScreen { margin-top:50px; }
button { font-size:18px; padding:10px 20px; margin:10px; }
model-viewer { width:100%; height:100vh; display:none; }
</style>
</head>

<body>

<div id="selectScreen">
  <h2>モデルを選択</h2>
  <button onclick="location.href='?model=A'">A</button>
  <button onclick="location.href='?model=B'">B</button>
  <button onclick="location.href='?model=C'">C</button>
</div>

<model-viewer
  id="viewer"
  ar
  ar-modes="scene-viewer quick-look webxr"
  camera-controls
  auto-rotate>
</model-viewer>

<script>
const selectScreen = document.getElementById("selectScreen");
const viewer = document.getElementById("viewer");

const params = new URLSearchParams(window.location.search);
const model = params.get("model");

function isIOS() {
  return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}

if (model) {
  selectScreen.style.display = "none";
  viewer.style.display = "block";

  // AndroidやPC用
  viewer.src = model + ".glb";

  // iOS用（Quick Look）
  if (isIOS()) {
    viewer.setAttribute("ios-src", model + ".usdz");
  }

} else {
  selectScreen.style.display = "block";
  viewer.style.display = "none";
}
</script>

</body>
</html>
